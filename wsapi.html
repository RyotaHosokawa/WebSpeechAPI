<!DOCTYPE html>
<html>
<head>
	<title>Web Speech API</title>
	<meta charset="UTF-8">
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script type="text/javascript">
	window.SpeechRecognition = window.SpeechRecognition || webkitSpeechRecognition;
	var recognition = new webkitSpeechRecognition();
	recognition.lang = 'ja';
	//true = 変換の途中経過を表示する
	recognition.interimResults = true;
	//ture = 連続で音声認識
	recognition.continuous = true;

	recognition.onsoundstart = function(){
		$("#status").val("認識中");
	};

	recognition.onnomatch = function(){
		$("#status").val("もう一度試してください");
	};

	recognition.onerror = function(){
		$("#status").val("エラー");
	};

	recognition.onsoundend = function(){
		$("#status").val("停止中");
	};

	//録音終了トリガー
	recognition.addEventListener('result', function(event){
		var text = event.results.item(0).item(0).transcript;
		$("#result_text").val(text);
	}, false);

	//録音開始
	function record(){
		recognition.start();
	}
	</script>
</head>

<body>
	<textarea id="result_text" cols="100" rows="10"></textarea>
	<input type="button" onclick="record()" value="録音開始" />
	<textarea id="status" cols="100" rows="1"></textarea>

</body>
</html>